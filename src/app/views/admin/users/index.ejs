<h1>Lista de Usuários</h1>

<div class="row justify-content-end">
  <a href="/users/new" class="btn btn-primary">Novo Usuário</a>
</div>

<div class="row">
  <table class="table table-striped mt-4">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Nome</th>
        <th scope="col">Email</th>
        <th scope="col">Administrador</th>
        <th scope="col">Data de Criação</th>
        <th scope="col">Última atualização</th>
      </tr>
    </thead>
    <tbody>
      <%users.forEach((user, index) => {%>
        <tr>
          <th scope="row"><%=index + 1%></th>
          <td><%=user.name%></td>
          <td><%=user.email%></td>
          <td><%=user.isAdmin ? 'Sim' : 'Não'%></td>
          <td><%=new Date(user.createdAt).toISOString().substr(0, 10).split('-').reverse().join('/')%></td>
          <td><%=new Date(user.updatedAt).toISOString().substr(0, 10).split('-').reverse().join('/')%></td>
          <td>
            <a href="/users/edit/<%=user._id%>" class="btn btn-success btn-sm">Editar</a>
            <form action="/admin/users?_method=DELETE" method="POST" style="display: inline;">
              <input type="hidden" name="id" value="<%=user._id%>">
              <button type="submit" class="btn btn-sm btn-danger">Deletar</button>
            </form>
          </td>
        </tr>
      <%})%>
    </tbody>
  </table>
</div>
